{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book — {{ package.title }}</title>
    <link rel="stylesheet" href="{% static 'css/booking.css' %}">
</head>
<body>

<div class="container">

    <!-- ===== Package Summary ===== -->
    <section class="summary card">
        <div class="summary-content">
            <div class="summary-text">
                <h2>{{ package.title|default:"Untitled package" }}</h2>
                <p class="muted">
                    {{ package.description|default:"No description provided." }}
                </p>

                <div class="meta">
                    <div>
                        <span class="label">Departure</span>
                        <span>
                            {% if package.date %}
                            {{ package.date|date:"Y-m-d" }}
                            {% else %}
                            Date TBA
                            {% endif %}
                        </span>
                    </div>

                    <div>
                        <span class="label">Price</span>
                        <span>₹ {{ package.price|default:"N/A" }}</span>
                    </div>
                </div>
            </div>

            <div class="summary-image">
                {% if package.image %}
                <img src="{{ package.image.url }}" alt="">
                {% else %}
                <img src="{% static 'images/placeholder.jpg' %}" alt="">
                {% endif %}
            </div>
        </div>
    </section>

    <!-- ===== Booking Form ===== -->
    <aside class="form-card card">
        <h3>Confirm Booking</h3>

        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label>Full Name</label>
                <input type="text" value="{{ user_obj.username }}" disabled>
                <input type="hidden" name="fullname" value="{{ user_obj.username }}">
            </div>

            <div class="form-group">
                <label>Phone</label>
                <input type="text" value="{{ user_obj.phone }}" disabled>
                <input type="hidden" name="phone" value="{{ user_obj.phone }}">
            </div>

            <input type="hidden" name="package" value="{{ package.id }}">

            <div class="form-group">
                <label>Number of People</label>
                {{ form.number_of_people }}
            </div>

            <div class="form-group">
                <label>Booking Date</label>
                {{ form.booking_date }}
            </div>

            <div class="form-actions">
                <a href="{% url 'userhome' %}" class="btn secondary">Cancel</a>
                <a href="{% url 'payment' %}" class="btn primary">Confirm & Pay</a>
                
            </div>
        </form>
    </aside>

</div>

</body>
</html>
